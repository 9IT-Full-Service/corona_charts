<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <title>{{ title }}</title>
  {% include "head.tmpl" %}
</head>

<body>
  <div class="grid-container">
    <div id="nav">
      {% include "nav.tmpl" %}
    </div>
    <div class="content">
      <center>
        <h1>{{ title }}</h1>
        <p>* Seit 29.10.2020 17:38 wird feuchtes Toilettenpapier nicht mehr mitgezählt.</p>
        <div class="menu" ><a class="menu" href="/klopapier">Alle Einträge</a></div>
        <div class="menu" ><a class="menu" href="/klopapier/10">Letzen 10 Einträge</a></div>
        <div class="menu" ><a class="menu" href="/klopapier/20">Letzen 20 Einträge</a></div>
        <div class="menu" ><a class="menu" href="/klopapier/30">Letzen 30 Einträge</a></div>
        <div style="float:clear;"></div>
      </center>
      <br><br>
      <hr>
      <center>
        <canvas id="chart"></canvas>
        <script>

          // bar chart data
          var barData = {
            labels : [
              {% for item in labels %}
                "{{ item }}",
              {% endfor %}
            ],
            datasets : [{
              fillColor: "rgba(151,187,205,0.2)",
              strokeColor: "rgba(151,187,205,1)",
              pointColor: "rgba(151,187,205,1)",
              pointStrokeColor: "#fff",
              pointHighlightFill: "#ddd",
              pointHighlightStroke: "rgba(151,187,205,1)",
              bezierCurve : true,
              data : [
    	    {% for item in values %}
                  {{ item }},
                {% endfor %}]
              }
    	]
          }

          Chart.defaults.global.animationSteps = 100;
          Chart.defaults.global.tooltipYPadding = 16;
          Chart.defaults.global.tooltipYMargin = 5;
          Chart.defaults.global.tooltipCornerRadius = 5;
          Chart.defaults.global.tooltipTitleFontStyle = "normal";
          Chart.defaults.global.tooltipFillColor = "rgba(0,0,0,0.8)";
          Chart.defaults.global.animationEasing = "easeOutBounce";
          Chart.defaults.global.responsive = true;
          Chart.defaults.global.scaleLineColor = "orange";
          Chart.defaults.global.scaleFontSize = 8;
          // Chart.defaults.global.tooltipMode = "point"

          // get bar chart canvas
          var mychart = document.getElementById("chart").getContext("2d");

          steps = 10
          max = {{ max }}
          // draw bar chart
          var LineChartDemo = new Chart(mychart).Line(barData, {
            scaleOverride: true,
            scaleSteps: steps,
            scaleStepWidth: Math.ceil(max / steps),
            scaleStartValue: 0,
            scaleShowVerticalLines: true,
            scaleShowGridLines : true,
            barShowStroke : true,
            scaleShowLabels: true,
            bezierCurve: true,
          });

        </script>
      </center>
    </div>
    <div class="footer">
    </div>
  </div>
</body>
</html>
